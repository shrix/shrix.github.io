(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{3656:function(e,t,s){Promise.resolve().then(s.bind(s,5055))},5055:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(7437),a=s(2265);function l(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e="true"===localStorage.getItem("darkMode")||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;t(e),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]),(0,r.jsx)("button",{onClick:()=>{let s=!e;t(s),localStorage.setItem("darkMode",s.toString()),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},className:"p-[2px] rounded-md hover:bg-gray-200 dark:hover:bg-gray-700",title:e?"Switch to light mode":"Switch to dark mode",children:e?(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,r.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),(0,r.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),(0,r.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),(0,r.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),(0,r.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),(0,r.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),(0,r.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),(0,r.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})}function n(e){let{collapsed:t,setCollapsed:s,openSettings:n}=e,[o,i]=(0,a.useState)("gpt"),[d,c]=(0,a.useState)("API Key Reqd for ChatGPT"),[h,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=localStorage.getItem("gpt-api-key"),t=localStorage.getItem("claude-api-key");"gpt"===o?c(e?"ChatGPT API Key set":"API Key Reqd for ChatGPT"):"claude"===o?c(t?"Claude API Key set":"API Key Reqd for Claude"):c("Gemini Flash 2.0 (Free)")},[o]),(0,a.useEffect)(()=>{localStorage.setItem("selectedModel",o)},[o]);let g=!t||h;return(0,r.jsxs)("div",{className:"sidebar-container ".concat(g?"w-64":"w-0"," transition-all duration-300 ease-in-out relative"),onMouseLeave:()=>x(!1),children:[(0,r.jsxs)("div",{className:"sidebar fixed h-full bg-slate-50 dark:bg-gray-800 border-r dark:border-gray-700 p-4 flex flex-col ".concat(g?"w-64 opacity-100":"w-0 opacity-0 overflow-hidden"),onMouseEnter:()=>x(!0),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h1",{className:"text-xl font-bold",children:"Chat"}),(0,r.jsxs)("div",{className:"flex items-center gap-[2px]",children:[(0,r.jsx)(l,{}),(0,r.jsx)("button",{className:"p-[2px] rounded-md hover:bg-gray-200 dark:hover:bg-gray-700",onClick:n,title:"Settings",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})}),(0,r.jsx)("button",{className:"p-[2px] rounded-md hover:bg-gray-200 dark:hover:bg-gray-700",onClick:()=>s(!t),title:t?"Pin sidebar":"Unpin sidebar",children:t?(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,r.jsx)("polyline",{points:"14 7 19 12 14 17"}),(0,r.jsx)("line",{x1:"19",y1:"4",x2:"19",y2:"20",strokeOpacity:"0.8"})]}):(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,r.jsx)("polyline",{points:"10 7 5 12 10 17"}),(0,r.jsx)("line",{x1:"5",y1:"4",x2:"5",y2:"20",strokeOpacity:"0.8"})]})})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Select Model"}),(0,r.jsxs)("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 p-2",value:o,onChange:e=>i(e.target.value),children:[(0,r.jsx)("option",{value:"gpt",children:"ChatGPT 3.5 Turbo (API Key)"}),(0,r.jsx)("option",{value:"claude",children:"Claude Instant (API Key)"}),(0,r.jsx)("option",{value:"gemini",children:"Gemini Flash 2.0 (Free)"})]})]}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md",children:"New Chat"})}),(0,r.jsx)("div",{className:"mt-auto pt-4 border-t dark:border-gray-700",children:(0,r.jsx)("div",{className:"text-sm text-amber-600 dark:text-amber-400 text-center",children:d})})]}),t&&(0,r.jsx)("div",{className:"fixed top-0 left-0 w-16 h-full z-10",onMouseEnter:()=>x(!0)})]})}function o(e){let{onClose:t}=e,[s,l]=(0,a.useState)(""),[n,o]=(0,a.useState)(""),[i,d]=(0,a.useState)("gpt");return(0,a.useEffect)(()=>{l(localStorage.getItem("gpt-api-key")||""),o(localStorage.getItem("claude-api-key")||""),d(localStorage.getItem("selectedModel")||"gpt")},[]),(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"API Key Settings"}),(0,r.jsx)("button",{onClick:t,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M18 6 6 18"}),(0,r.jsx)("path",{d:"m6 6 12 12"})]})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:["gpt"===i&&(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)("label",{htmlFor:"gpt-key",className:"text-right",children:"ChatGPT API Key"}),(0,r.jsx)("input",{id:"gpt-key",type:"password",className:"col-span-3 p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600",placeholder:"sk-...",value:s,onChange:e=>l(e.target.value)}),(0,r.jsx)("div",{className:"col-span-4 text-xs text-gray-500 dark:text-gray-400 text-right",children:"Using ChatGPT 3.5 Turbo (most cost-effective)"})]}),"claude"===i&&(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)("label",{htmlFor:"claude-key",className:"text-right",children:"Claude API Key"}),(0,r.jsx)("input",{id:"claude-key",type:"password",className:"col-span-3 p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600",placeholder:"sk-ant-...",value:n,onChange:e=>o(e.target.value)}),(0,r.jsx)("div",{className:"col-span-4 text-xs text-gray-500 dark:text-gray-400 text-right",children:"Using Claude Instant (most cost-effective)"})]}),"gemini"===i&&(0,r.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-gray-700 rounded-md",children:[(0,r.jsx)("p",{className:"text-sm",children:"Gemini Flash 2.0 Experimental is available for free through Google AI Studio."}),(0,r.jsx)("p",{className:"text-sm mt-2",children:"No API key required for this model."})]})]}),(0,r.jsx)("div",{className:"mt-6 flex justify-end",children:(0,r.jsx)("button",{onClick:()=>{localStorage.setItem("gpt-api-key",s),localStorage.setItem("claude-api-key",n),t()},className:"bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Save changes"})})]})})}function i(e){let{children:t}=e,[s,l]=(0,a.useState)(!1),[i,d]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"flex h-screen bg-white dark:bg-gray-900 dark:text-white",children:[(0,r.jsx)(n,{collapsed:i,setCollapsed:d,openSettings:()=>l(!0)}),(0,r.jsx)("main",{className:"flex-1 flex flex-col",children:t}),s&&(0,r.jsx)(o,{onClose:()=>l(!1)})]})}function d(e){let{role:t,content:s}=e,[l,n]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"".concat("user"===t?"user-message":"assistant-message"," relative group"),children:[(0,r.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(s),n(!0),setTimeout(()=>n(!1),2e3)},className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700",title:"Copy to clipboard",children:l?(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M20 6 9 17l-5-5"})}):(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),(0,r.jsx)("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})})}),(0,r.jsx)("div",{className:"whitespace-pre-wrap",children:s})]})}function c(e){let{messages:t,isLoading:s}=e,l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[t]),(0,r.jsxs)("div",{ref:l,className:"chat-container flex-1 space-y-4 p-4 overflow-y-auto",children:[0===t.length?(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to Chat"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Select a model and start chatting"})]})}):t.map((e,t)=>(0,r.jsx)(d,{role:e.role,content:e.content},t)),s&&(0,r.jsx)("div",{className:"assistant-message flex items-center",children:(0,r.jsx)("div",{className:"loading"})})]})}function h(e){let{onSendMessage:t,isLoading:s}=e,[l,n]=(0,a.useState)(""),o=(0,a.useRef)(null);(0,a.useEffect)(()=>{o.current&&(o.current.style.height="auto",o.current.style.height="".concat(Math.min(o.current.scrollHeight,200),"px"))},[l]);let i=e=>{e.preventDefault(),l.trim()&&!s&&(t(l),n(""),o.current&&(o.current.style.height="auto"))};return(0,r.jsx)("div",{className:"border-t dark:border-gray-700 p-4 mt-auto",children:(0,r.jsxs)("form",{onSubmit:i,className:"message-input-container",children:[(0,r.jsx)("textarea",{ref:o,className:"w-full min-h-[48px] p-3 pr-12 border rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600",placeholder:"Type your message...",value:l,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),i(e))},disabled:s,rows:1}),(0,r.jsx)("button",{type:"submit",className:"send-button-claude",disabled:s||!l.trim(),"aria-label":"Send message",children:(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:l.trim()?"#4B5563":"#9CA3AF"}),(0,r.jsx)("path",{d:"M12 16V8M8 12l4-4 4 4",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})})}function x(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[n,o]=(0,a.useState)("gpt");(0,a.useEffect)(()=>{let e=localStorage.getItem("selectedModel");e&&o(e)},[]),(0,a.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("selectedModel");e&&e!==n&&o(e)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[n]);let d=async e=>{let s={role:"user",content:e};t(e=>[...e,s]),l(!0);try{let s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,model:n,apiKey:localStorage.getItem("".concat(n,"-api-key"))||""})});if(!s.ok)throw Error("Failed to send message");let r=await s.json(),a={role:"assistant",content:r.content};t(e=>[...e,a])}catch(s){console.error("Error sending message:",s);let e={role:"assistant",content:"Sorry, there was an error processing your message. Please try again."};t(t=>[...t,e])}finally{l(!1)}};return(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{messages:e,isLoading:s}),(0,r.jsx)(h,{onSendMessage:d,isLoading:s})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3656)}),_N_E=e.O()}]);